<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Scrape Last.fm using Ruby - Teddy&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Recently I was doing a project on analyzing music recommendation algorithms. I have found that one of the popular free music dataset is Last.fm Dataset. However, this dataset only includes users’ rece">
<meta property="og:type" content="article">
<meta property="og:title" content="Scrape Last.fm using Ruby">
<meta property="og:url" content="http://yoursite.com/2015/06/07/last.fm-scrape/index.html">
<meta property="og:site_name" content="Teddy's Blog">
<meta property="og:description" content="Recently I was doing a project on analyzing music recommendation algorithms. I have found that one of the popular free music dataset is Last.fm Dataset. However, this dataset only includes users’ rece">
<meta property="og:updated_time" content="2015-06-07T03:03:30.800Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Scrape Last.fm using Ruby">
<meta name="twitter:description" content="Recently I was doing a project on analyzing music recommendation algorithms. I have found that one of the popular free music dataset is Last.fm Dataset. However, this dataset only includes users’ rece">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <a id="logo" class="logo" href="/"></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/contact">Contact</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer"><article id="post-last.fm-scrape" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Scrape Last.fm using Ruby
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2015/06/07/last.fm-scrape/" class="article-date">
  <time datetime="2015-06-07T03:03:30.800Z" itemprop="datePublished">2015-06-07</time>
</a>
      
      
        <div class="article-comment-link-wrap">
          <a href="http://yoursite.com/2015/06/07/last.fm-scrape/#disqus_thread" class="article-comment-link">评论</a>
        </div>
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Recently I was doing a project on analyzing music recommendation algorithms. I have found that one of the popular free music dataset is <a href="http://www.dtic.upf.edu/~ocelma/MusicRecommendationDataset/lastfm-1K.html" target="_blank" rel="external">Last.fm Dataset</a>. However, this dataset only includes users’ recent played musics. Normally, users’ rating histries are important for recommendation algorithms. The play histries in Last.fm Dataset only represent users’ implicit ratings, which means the ratings can be inferred from play times, skip or not, etc. One the other side, the explicit ratings are not avaliable in this dataset, which are users’ explicit activities such as mark a song as loved or banned. After some study, I decide to scrape the data by myself, using <a href="http://cn.last.fm/api" target="_blank" rel="external">Last.fm API</a>.</p>
<a id="more"></a>
<h2 id="Before_Start">Before Start</h2><p>If you are on Windows platform, do not upgrade your ruby to version 2.2. An <a href="https://github.com/sparklemotion/nokogiri/issues/1256" target="_blank" rel="external">issue</a> on GitHub shows the gem nokogiri is not supported well on Ruby 2.2.</p>
<p>The following Ruby Gems are required.</p>
<ul>
<li>mechanize</li>
<li>url</li>
<li>httparty</li>
<li>json</li>
</ul>

      
    </div>
  
    <footer class="article-footer">
      
    </footer>
  
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2015/06/06/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">My First Post&nbsp;<span>&gt;</span></div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Teddy Tao&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'zhaojietao';
  
  var disqus_url = 'http://yoursite.com/2015/06/07/last.fm-scrape/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>